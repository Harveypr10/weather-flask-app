<!DOCTYPE html>
<html>
<head>
    <title>Weather App</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <h1>Weather App</h1>
    <form method="POST">
        <input type="text" name="city" placeholder="Enter city" required>
        <button type="submit">Get Weather</button>
    </form>

    {% if weather %}
        <h2>Weather in {{ weather.city }}</h2>
        <p>Temperature: {{ weather.temperature }}Â°C</p>
        <p>Condition: {{ weather.description }}</p>
    {% endif %}

    <h2>Map Location</h2>
    <div id="map" style="width: 100%; height: 400px;"></div>

<script>
function initMap() {
    var cityLocation = {lat: {{ location.lat | default(51.5074) | safe }}, lng: {{ location.lon | default(-0.1278) | safe }}};

    var map = new google.maps.Map(document.getElementById('map'), {
        zoom: 10,
        center: cityLocation
    });

    new google.maps.Marker({
        position: cityLocation,
        map: map
    });
}
</script>

    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBlhrozxNQ89-tV54dm1qgBHibhOJlspyQ&callback=initMap"></script>
</body>
</html>